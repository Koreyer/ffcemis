(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-message"],{"049c":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.HubConnectionBuilder=void 0;var o=r(n("53ca"));n("d9e2"),n("d401");var i=n("af52"),s=n("173a"),a=n("ac91"),c=n("7f37"),u=n("11ad"),l=n("cc6a"),f=n("999b"),p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h={trace:c.LogLevel.Trace,debug:c.LogLevel.Debug,info:c.LogLevel.Information,information:c.LogLevel.Information,warn:c.LogLevel.Warning,warning:c.LogLevel.Warning,error:c.LogLevel.Error,critical:c.LogLevel.Critical,none:c.LogLevel.None};var d=function(){function e(){}return e.prototype.configureLogging=function(e){if(f.Arg.isRequired(e,"logging"),function(e){return void 0!==e.log}(e))this.logger=e;else if("string"===typeof e){var t=function(e){var t=h[e.toLowerCase()];if("undefined"!==typeof t)return t;throw new Error("Unknown log level: "+e)}(e);this.logger=new f.ConsoleLogger(t)}else this.logger=new f.ConsoleLogger(e);return this},e.prototype.withUrl=function(e,t){return f.Arg.isRequired(e,"url"),f.Arg.isNotEmpty(e,"url"),this.url=e,"object"===(0,o.default)(t)?this.httpConnectionOptions=p({},this.httpConnectionOptions,t):this.httpConnectionOptions=p({},this.httpConnectionOptions,{transport:t}),this},e.prototype.withHubProtocol=function(e){return f.Arg.isRequired(e,"protocol"),this.protocol=e,this},e.prototype.withAutomaticReconnect=function(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new i.DefaultReconnectPolicy(e):this.reconnectPolicy=e:this.reconnectPolicy=new i.DefaultReconnectPolicy,this},e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var t=new s.HttpConnection(this.url,e);return a.HubConnection.create(t,this.logger||l.NullLogger.instance,this.protocol||new u.JsonHubProtocol,this.reconnectPolicy)},e}();t.HubConnectionBuilder=d},"11ad":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHubProtocol=void 0,n("d9e2"),n("d401"),n("14d9"),n("e9c4");var r=n("3865"),o=n("7f37"),i=n("35f7"),s=n("cc6a"),a=n("c238"),c=function(){function e(){this.name="json",this.version=1,this.transferFormat=i.TransferFormat.Text}return e.prototype.parseMessages=function(e,t){if("string"!==typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=s.NullLogger.instance);for(var n=a.TextMessageFormat.parse(e),i=[],c=0,u=n;c<u.length;c++){var l=u[c],f=JSON.parse(l);if("number"!==typeof f.type)throw new Error("Invalid payload.");switch(f.type){case r.MessageType.Invocation:this.isInvocationMessage(f);break;case r.MessageType.StreamItem:this.isStreamItemMessage(f);break;case r.MessageType.Completion:this.isCompletionMessage(f);break;case r.MessageType.Ping:break;case r.MessageType.Close:break;default:t.log(o.LogLevel.Information,"Unknown message type '"+f.type+"' ignored.");continue}i.push(f)}return i},e.prototype.writeMessage=function(e){return a.TextMessageFormat.write(JSON.stringify(e))},e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")},e.prototype.isStreamItemMessage=function(e){if(this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")},e.prototype.isCompletionMessage=function(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this.assertNotEmptyString(e.error,"Invalid payload for Completion message."),this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")},e.prototype.assertNotEmptyString=function(e,t){if("string"!==typeof e||""===e)throw new Error(t)},e}();t.JsonHubProtocol=c},1405:function(e,t,n){"use strict";n.r(t);var r=n("f099"),o=n("a1d6");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("feb5");var s=n("f0c5"),a=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"cc455888",null,!1,r["a"],void 0);t["default"]=a.exports},"143c":function(e,t,n){var r=n("74e8");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"173a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransportSendQueue=t.HttpConnection=void 0;var o=r(n("53ca"));n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9"),n("c975"),n("d81d"),n("baa5"),n("13d5"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7");var i=n("5457"),s=n("7f37"),a=n("35f7"),c=n("a2ea"),u=n("d721"),l=n("f93c"),f=n("999b"),p=n("2f52"),h=n("3991"),d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},v=function(){function e(e,t){if(void 0===t&&(t={}),this.features={},this.negotiateVersion=1,f.Arg.isRequired(e,"url"),this.logger=(0,f.createLogger)(t.logger),this.baseUrl=this.resolveUrl(e),t=t||{},t.logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!==typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials;var n=null,r=null;if(f.Platform.isNode){var o=require;n=o("ws"),r=o("eventsource")}f.Platform.isUni&&!t.WebSocket?t.WebSocket=l.UniWebSocket:f.Platform.isWechatMP&&!t.WebSocket?t.WebSocket=h.WxWebSocket:f.Platform.isNode||"undefined"===typeof WebSocket||t.WebSocket?f.Platform.isNode&&!t.WebSocket&&n&&(t.WebSocket=n):t.WebSocket=WebSocket,f.Platform.isNode||"undefined"===typeof EventSource||t.EventSource?f.Platform.isNode&&!t.EventSource&&"undefined"!==typeof r&&(t.EventSource=r):t.EventSource=EventSource,this.httpClient=t.httpClient||new i.DefaultHttpClient(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=t,this.onreceive=null,this.onclose=null}return e.prototype.start=function(e){return g(this,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:return e=e||a.TransferFormat.Binary,f.Arg.isIn(e,a.TransferFormat,"transferFormat"),this.logger.log(s.LogLevel.Debug,"Starting connection with transfer format '"+a.TransferFormat[e]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(e),[4,this.startInternalPromise]);case 1:return n.sent(),"Disconnecting"!==this.connectionState?[3,3]:(t="Failed to start the HttpConnection before stop() was called.",this.logger.log(s.LogLevel.Error,t),[4,this.stopPromise]);case 2:return n.sent(),[2,Promise.reject(new Error(t))];case 3:if("Connected"!==this.connectionState)return t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!",this.logger.log(s.LogLevel.Error,t),[2,Promise.reject(new Error(t))];n.label=4;case 4:return this.connectionStarted=!0,[2]}}))}))},e.prototype.send=function(e){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new y(this.transport)),this.sendQueue.send(e))},e.prototype.stop=function(e){return g(this,void 0,void 0,(function(){var t=this;return b(this,(function(n){switch(n.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(s.LogLevel.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(s.LogLevel.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise((function(e){t.stopPromiseResolver=e})),[4,this.stopInternal(e)]);case 1:return n.sent(),[4,this.stopPromise];case 2:return n.sent(),[2]}}))}))},e.prototype.stopInternal=function(e){return g(this,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:this.stopError=e,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:if(!this.transport)return[3,9];n.label=5;case 5:return n.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return n.sent(),[3,8];case 7:return t=n.sent(),this.logger.log(s.LogLevel.Error,"HttpConnection.transport.stop() threw error '"+t+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(s.LogLevel.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),this.stopConnection(),n.label=10;case 10:return[2]}}))}))},e.prototype.startInternal=function(e){return g(this,void 0,void 0,(function(){var t,n,r,o,i,u;return b(this,(function(l){switch(l.label){case 0:t=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,l.label=1;case 1:return l.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==a.HttpTransportType.WebSockets?[3,3]:(this.transport=this.constructTransport(a.HttpTransportType.WebSockets),[4,this.startTransport(t,e)]):[3,5];case 2:return l.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,o=function(){var e;return b(this,(function(o){switch(o.label){case 0:return[4,i.getNegotiationResponse(t)];case 1:if(n=o.sent(),"Disconnecting"===i.connectionState||"Disconnected"===i.connectionState)throw new Error("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(t=n.url),n.accessToken&&(e=n.accessToken,i.accessTokenFactory=function(){return e}),r++,[2]}}))},i=this,l.label=6;case 6:return[5,o()];case 7:l.sent(),l.label=8;case 8:if(n.url&&r<100)return[3,6];l.label=9;case 9:if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(t,this.options.transport,n,e)];case 10:l.sent(),l.label=11;case 11:return this.transport instanceof c.LongPollingTransport&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(s.LogLevel.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return u=l.sent(),this.logger.log(s.LogLevel.Error,"Failed to start the connection: "+u),this.connectionState="Disconnected",this.transport=void 0,[2,Promise.reject(u)];case 13:return[2]}}))}))},e.prototype.getNegotiationResponse=function(e){return g(this,void 0,void 0,(function(){var t,n,r,o,i,a,c,u,l;return b(this,(function(p){switch(p.label){case 0:return t={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:n=p.sent(),n&&(t["Authorization"]="Bearer "+n),p.label=2;case 2:r=(0,f.getUserAgentHeader)(),o=r[0],i=r[1],t[o]=i,a=this.resolveNegotiateUrl(e),this.logger.log(s.LogLevel.Debug,"Sending negotiation request: "+a+"."),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,this.httpClient.post(a,{content:"",headers:d({},t,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return c=p.sent(),200!==c.statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+c.statusCode+"'"))]:(u=JSON.parse(c.content),(!u.negotiateVersion||u.negotiateVersion<1)&&(u.connectionToken=u.connectionId),[2,u]);case 5:return l=p.sent(),this.logger.log(s.LogLevel.Error,"Failed to complete negotiation with the server: "+l),[2,Promise.reject(l)];case 6:return[2]}}))}))},e.prototype.createConnectUrl=function(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+"id="+t:e},e.prototype.createTransport=function(e,t,n,r){return g(this,void 0,void 0,(function(){var o,i,a,c,u,l,f,p,h,d,g;return b(this,(function(b){switch(b.label){case 0:return o=this.createConnectUrl(e,n.connectionToken),this.isITransport(t)?(this.logger.log(s.LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,[4,this.startTransport(o,r)]):[3,2];case 1:return b.sent(),this.connectionId=n.connectionId,[2];case 2:i=[],a=n.availableTransports||[],c=n,u=0,l=a,b.label=3;case 3:return u<l.length?(f=l[u],p=this.resolveTransportOrError(f,t,r),p instanceof Error?(i.push(f.transport+" failed: "+p),[3,12]):[3,4]):[3,13];case 4:if(!this.isITransport(p))return[3,12];if(this.transport=p,c)return[3,9];b.label=5;case 5:return b.trys.push([5,7,,8]),[4,this.getNegotiationResponse(e)];case 6:return c=b.sent(),[3,8];case 7:return h=b.sent(),[2,Promise.reject(h)];case 8:o=this.createConnectUrl(e,c.connectionToken),b.label=9;case 9:return b.trys.push([9,11,,12]),[4,this.startTransport(o,r)];case 10:return b.sent(),this.connectionId=c.connectionId,[2];case 11:return d=b.sent(),this.logger.log(s.LogLevel.Error,"Failed to start the transport '"+f.transport+"': "+d),c=void 0,i.push(f.transport+" failed: "+d),"Connecting"!==this.connectionState?(g="Failed to select transport before stop() was called.",this.logger.log(s.LogLevel.Debug,g),[2,Promise.reject(new Error(g))]):[3,12];case 12:return u++,[3,3];case 13:return i.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+i.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}}))}))},e.prototype.constructTransport=function(e){switch(e){case a.HttpTransportType.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new p.WebSocketTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case a.HttpTransportType.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new u.ServerSentEventsTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case a.HttpTransportType.LongPolling:return new c.LongPollingTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+e+".")}},e.prototype.startTransport=function(e,t){var n=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return n.stopConnection(e)},this.transport.connect(e,t)},e.prototype.resolveTransportOrError=function(e,t,n){var r=a.HttpTransportType[e.transport];if(null===r||void 0===r)return this.logger.log(s.LogLevel.Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+e.transport+"' because it is not supported by this client.");if(!function(e,t){return!e||0!==(t&e)}(t,r))return this.logger.log(s.LogLevel.Debug,"Skipping transport '"+a.HttpTransportType[r]+"' because it was disabled by the client."),new Error("'"+a.HttpTransportType[r]+"' is disabled by the client.");var o=e.transferFormats.map((function(e){return a.TransferFormat[e]}));if(!(o.indexOf(n)>=0))return this.logger.log(s.LogLevel.Debug,"Skipping transport '"+a.HttpTransportType[r]+"' because it does not support the requested transfer format '"+a.TransferFormat[n]+"'."),new Error("'"+a.HttpTransportType[r]+"' does not support "+a.TransferFormat[n]+".");if(r===a.HttpTransportType.WebSockets&&!this.options.WebSocket||r===a.HttpTransportType.ServerSentEvents&&!this.options.EventSource)return this.logger.log(s.LogLevel.Debug,"Skipping transport '"+a.HttpTransportType[r]+"' because it is not supported in your environment.'"),new Error("'"+a.HttpTransportType[r]+"' is not supported in your environment.");this.logger.log(s.LogLevel.Debug,"Selecting transport '"+a.HttpTransportType[r]+"'.");try{return this.constructTransport(r)}catch(i){return i}},e.prototype.isITransport=function(e){return e&&"object"===(0,o.default)(e)&&"connect"in e},e.prototype.stopConnection=function(e){var t=this;if(this.logger.log(s.LogLevel.Debug,"HttpConnection.stopConnection("+e+") called while in state "+this.connectionState+"."),this.transport=void 0,e=this.stopError||e,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(s.LogLevel.Warning,"Call to HttpConnection.stopConnection("+e+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+e+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),e?this.logger.log(s.LogLevel.Error,"Connection disconnected with error '"+e+"'."):this.logger.log(s.LogLevel.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch((function(e){t.logger.log(s.LogLevel.Error,"TransportSendQueue.stop() threw error '"+e+"'.")})),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this.logger.log(s.LogLevel.Error,"HttpConnection.onclose("+e+") threw error '"+n+"'.")}}}else this.logger.log(s.LogLevel.Debug,"Call to HttpConnection.stopConnection("+e+") was ignored because the connection is already in the disconnected state.")},e.prototype.resolveUrl=function(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!f.Platform.isBrowser||!window.document)throw new Error("Cannot resolve '"+e+"'.");var t=window.document.createElement("a");return t.href=e,this.logger.log(s.LogLevel.Information,"Normalizing '"+e+"' to '"+t.href+"'."),t.href},e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?"),n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===t?"":e.substring(t),-1===n.indexOf("negotiateVersion")&&(n+=-1===t?"?":"&",n+="negotiateVersion="+this.negotiateVersion),n},e}();t.HttpConnection=v;var y=function(){function e(e){this.transport=e,this.buffer=[],this.executing=!0,this.sendBufferedData=new m,this.transportResult=new m,this.sendLoopPromise=this.sendLoop()}return e.prototype.send=function(e){return this.bufferData(e),this.transportResult||(this.transportResult=new m),this.transportResult.promise},e.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},e.prototype.bufferData=function(e){if(this.buffer.length&&(0,o.default)(this.buffer[0])!==(0,o.default)(e))throw new Error("Expected data to be of type "+(0,o.default)(this.buffer)+" but was of type "+(0,o.default)(e));this.buffer.push(e),this.sendBufferedData.resolve()},e.prototype.sendLoop=function(){return g(this,void 0,void 0,(function(){var t,n,r;return b(this,(function(o){switch(o.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(o.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new m,t=this.transportResult,this.transportResult=void 0,n="string"===typeof this.buffer[0]?this.buffer.join(""):e.concatBuffers(this.buffer),this.buffer.length=0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.transport.send(n)];case 3:return o.sent(),t.resolve(),[3,5];case 4:return r=o.sent(),t.reject(r),[3,5];case 5:return[3,0];case 6:return[2]}}))}))},e.concatBuffers=function(e){for(var t=e.map((function(e){return e.byteLength})).reduce((function(e,t){return e+t})),n=new Uint8Array(t),r=0,o=0,i=e;o<i.length;o++){var s=i[o];n.set(new Uint8Array(s),r),r+=s.byteLength}return n.buffer},e}();t.TransportSendQueue=y;var m=function(){function e(){var e=this;this.promise=new Promise((function(t,n){var r;return r=[t,n],e.resolver=r[0],e.rejecter=r[1],r}))}return e.prototype.resolve=function(){this.resolver()},e.prototype.reject=function(e){this.rejecter(e)},e}()},"1ba4":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutError=t.HttpError=t.AbortError=void 0,n("131a"),n("d9e2"),n("d401");var r=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n){var r=this.constructor,o=this,i=r.prototype;return o=e.call(this,t)||this,o.statusCode=n,o.__proto__=i,o}return r(t,e),t}(Error);t.HttpError=o;var i=function(e){function t(t){var n=this.constructor;void 0===t&&(t="A timeout occurred.");var r=this,o=n.prototype;return r=e.call(this,t)||this,r.__proto__=o,r}return r(t,e),t}(Error);t.TimeoutError=i;var s=function(e){function t(t){var n=this.constructor;void 0===t&&(t="An abort occurred.");var r=this,o=n.prototype;return r=e.call(this,t)||this,r.__proto__=o,r}return r(t,e),t}(Error);t.AbortError=s},"1c37":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.XhrHttpClient=void 0,n("131a"),n("d3b7"),n("d9e2"),n("d401"),n("159b"),n("b64b");var r=n("1ba4"),o=n("4c4c"),i=n("7f37"),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n}return s(t,e),t.prototype.send=function(e){var t=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new r.AbortError):e.method?e.url?new Promise((function(n,s){var a=new XMLHttpRequest;a.open(e.method,e.url,!0),a.withCredentials=void 0===e.withCredentials||e.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var c=e.headers;c&&Object.keys(c).forEach((function(e){a.setRequestHeader(e,c[e])})),e.responseType&&(a.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){a.abort(),s(new r.AbortError)}),e.timeout&&(a.timeout=e.timeout),a.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),a.status>=200&&a.status<300?n(new o.HttpResponse(a.status,a.statusText,a.response||a.responseText)):s(new r.HttpError(a.statusText,a.status))},a.onerror=function(){t.logger.log(i.LogLevel.Warning,"Error from HTTP request. "+a.status+": "+a.statusText+"."),s(new r.HttpError(a.statusText,a.status))},a.ontimeout=function(){t.logger.log(i.LogLevel.Warning,"Timeout from HTTP request."),s(new r.TimeoutError)},a.send(e.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(o.HttpClient);t.XhrHttpClient=a},"1ce9":function(e,t,n){var r=n("b092");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("697f929a",r,!0,{sourceMap:!1,shadowMode:!1})},"257f":function(e,t,n){var r=n("eae7");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("2b890d10",r,!0,{sourceMap:!1,shadowMode:!1})},"2e0f":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return r.AbortError}}),Object.defineProperty(t,"DefaultHttpClient",{enumerable:!0,get:function(){return i.DefaultHttpClient}}),Object.defineProperty(t,"HttpClient",{enumerable:!0,get:function(){return o.HttpClient}}),Object.defineProperty(t,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(t,"HttpResponse",{enumerable:!0,get:function(){return o.HttpResponse}}),Object.defineProperty(t,"HttpTransportType",{enumerable:!0,get:function(){return l.HttpTransportType}}),Object.defineProperty(t,"HubConnection",{enumerable:!0,get:function(){return s.HubConnection}}),Object.defineProperty(t,"HubConnectionBuilder",{enumerable:!0,get:function(){return a.HubConnectionBuilder}}),Object.defineProperty(t,"HubConnectionState",{enumerable:!0,get:function(){return s.HubConnectionState}}),Object.defineProperty(t,"JsonHubProtocol",{enumerable:!0,get:function(){return p.JsonHubProtocol}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return u.LogLevel}}),Object.defineProperty(t,"MessageType",{enumerable:!0,get:function(){return c.MessageType}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return f.NullLogger}}),Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return h.Subject}}),Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return r.TimeoutError}}),Object.defineProperty(t,"TransferFormat",{enumerable:!0,get:function(){return l.TransferFormat}}),Object.defineProperty(t,"VERSION",{enumerable:!0,get:function(){return d.VERSION}});var r=n("1ba4"),o=n("4c4c"),i=n("5457"),s=n("ac91"),a=n("049c"),c=n("3865"),u=n("7f37"),l=n("35f7"),f=n("cc6a"),p=n("11ad"),h=n("98a1"),d=n("999b")},"2e3a":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("c7eb")),i=r(n("1da1")),s=r(n("411a")),a=s.default.FileById,c={GetMessage:function(e){return(0,i.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.default.get("/MessageManagementBusiness/UserMessage/GetHistoryMessage?pageNum="+e.pageNum+"&pageSize="+e.pageSize+"&searchValue="+e.searchValue+"&extendValue1=1");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},GetChatList:function(){return(0,i.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.default.get("/MessageManagementBusiness/UserMessage/GetChatList?userRole=true");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},FileById:a};t.default=c},"2f52":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketTransport=void 0,n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9"),n("c975"),n("ac1f"),n("5319");var r=n("7f37"),o=n("35f7"),i=n("999b"),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=function(){function e(e,t,n,r,o,i){this.logger=n,this.accessTokenFactory=t,this.logMessageContent=r,this.webSocketConstructor=o,this.httpClient=e,this.onreceive=null,this.onclose=null,this.headers=i}return e.prototype.connect=function(e,t){return a(this,void 0,void 0,(function(){var n,a=this;return c(this,(function(c){switch(c.label){case 0:return i.Arg.isRequired(e,"url"),i.Arg.isRequired(t,"transferFormat"),i.Arg.isIn(t,o.TransferFormat,"transferFormat"),this.logger.log(r.LogLevel.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:n=c.sent(),n&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),c.label=2;case 2:return[2,new Promise((function(n,c){var u;e=e.replace(/^http/,"ws");var l=a.httpClient.getCookieString(e),f=!1;if(i.Platform.isUni||i.Platform.isWechatMP)u=new a.webSocketConstructor(e,void 0,{headers:a.headers});else if(i.Platform.isNode){var p={},h=(0,i.getUserAgentHeader)(),d=h[0],g=h[1];p[d]=g,l&&(p["Cookie"]=""+l),u=new a.webSocketConstructor(e,void 0,{headers:s({},p,a.headers)})}u||(u=new a.webSocketConstructor(e)),t===o.TransferFormat.Binary&&(u.binaryType="arraybuffer"),u.onopen=function(t){a.logger.log(r.LogLevel.Information,"WebSocket connected to "+e+"."),a.webSocket=u,f=!0,n()},u.onerror=function(e){var t=null;t="undefined"!==typeof ErrorEvent&&e instanceof ErrorEvent?e.error:new Error("There was an error with the transport."),c(t)},u.onmessage=function(e){if(a.logger.log(r.LogLevel.Trace,"(WebSockets transport) data received. "+(0,i.getDataDetail)(e.data,a.logMessageContent)+"."),a.onreceive)try{a.onreceive(e.data)}catch(t){return void a.close(t)}},u.onclose=function(e){if(f)a.close(e);else{var t=null;t="undefined"!==typeof ErrorEvent&&e instanceof ErrorEvent?e.error:new Error("There was an error with the transport."),c(t)}}}))]}}))}))},e.prototype.send=function(e){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(r.LogLevel.Trace,"(WebSockets transport) sending data. "+(0,i.getDataDetail)(e,this.logMessageContent)+"."),this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},e.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},e.prototype.close=function(e){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(r.LogLevel.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+e.code+" ("+e.reason+").")))},e.prototype.isCloseEvent=function(e){return e&&"boolean"===typeof e.wasClean&&"number"===typeof e.code},e}();t.WebSocketTransport=u},"35f7":function(e,t,n){"use strict";var r,o;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.TransferFormat=t.HttpTransportType=void 0,t.HttpTransportType=r,function(e){e[e["None"]=0]="None",e[e["WebSockets"]=1]="WebSockets",e[e["ServerSentEvents"]=2]="ServerSentEvents",e[e["LongPolling"]=4]="LongPolling"}(r||(t.HttpTransportType=r={})),t.TransferFormat=o,function(e){e[e["Text"]=1]="Text",e[e["Binary"]=2]="Binary"}(o||(t.TransferFormat=o={}))},3865:function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=void 0,t.MessageType=r,function(e){e[e["Invocation"]=1]="Invocation",e[e["StreamItem"]=2]="StreamItem",e[e["Completion"]=3]="Completion",e[e["StreamInvocation"]=4]="StreamInvocation",e[e["CancelInvocation"]=5]="CancelInvocation",e[e["Ping"]=6]="Ping",e[e["Close"]=7]="Close"}(r||(t.MessageType=r={}))},3991:function(e,t,n){"use strict";var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.WxWebSocket=void 0,n("14d9"),n("7a82"),n("d9e2"),n("d401");var o,i=r(n("53ca")),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=(o=function(){function e(e,t,n){var r,o,a=this;this.binaryType="blob",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._url=e,"string"===typeof t?o=[t]:Array.isArray(t)&&(o=t);var c={"Content-Type":"application/json"},u={url:e,header:c,protocols:o,success:function(e){console.log("[WxWebSocket] wx.connectSocket invoke success.",e)},fail:function(e){console.error("[WxWebSocket] wx.connectSocket invoke faild.",e)}};"object"===(0,i.default)(n)&&("object"===(0,i.default)(n.header)?u.header=s({},c,n.header):"object"===(0,i.default)(n.headers)&&(u.header=s({},c,n.headers)),"string"===typeof n.protocols?u.protocols?u.protocols.push(n.protocols):u.protocols=[n.protocols]:Array.isArray(n.protocols)&&(u.protocols?(r=u.protocols).push.apply(r,n.protocols):u.protocols=n.protocols));var l=wx.connectSocket(u);this._socket=l,l.onOpen((function(){if(a.onopen){a.onopen({type:"open"})}})),l.onClose((function(e){if(a.onclose){var t=s({},e,{type:"close"});a.onclose(t)}})),l.onError((function(){if(a.onerror){a.onerror({type:"error"})}})),l.onMessage((function(e){if(a.onmessage){var t={type:"message",data:e.data};a.onmessage(t)}}))}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._socket.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t,n){throw new Error("WxWebSocket do not implement 'addEventListener' method.")},e.prototype.removeEventListener=function(e,t,n){throw new Error("WxWebSocket do not implement 'removeEventListener' method.")},e.prototype.dispatchEvent=function(e){throw new Error("WxWebSocket do not implement 'dispatchEvent' method.")},e.prototype.close=function(e,t){this._socket.close({code:e,reason:t})},e.prototype.send=function(e){e=e,this._socket.send({data:e})},e}(),o.CLOSED=3,o.CLOSING=2,o.OPEN=1,o.CONNECTING=0,o);t.WxWebSocket=a},"39b7":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.FetchHttpClient=void 0,n("131a"),n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9");var r=n("1ba4"),o=n("4c4c"),i=n("7f37"),s=n("999b"),a=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},f=function(e){function t(t){var n=e.call(this)||this;if(n.logger=t,"undefined"===typeof fetch){var r=require;n.jar=new(r("tough-cookie").CookieJar),n.fetchType=r("node-fetch"),n.fetchType=r("fetch-cookie")(n.fetchType,n.jar),n.abortControllerType=r("abort-controller")}else n.fetchType=fetch.bind(self),n.abortControllerType=AbortController;return n}return a(t,e),t.prototype.send=function(e){return u(this,void 0,void 0,(function(){var t,n,s,a,u,f,p,h,d=this;return l(this,(function(l){switch(l.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new r.AbortError;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");t=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){t.abort(),n=new r.AbortError}),s=null,e.timeout&&(a=e.timeout,s=setTimeout((function(){t.abort(),d.logger.log(i.LogLevel.Warning,"Timeout from HTTP request."),n=new r.TimeoutError}),a)),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:c({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:t.signal})];case 2:return u=l.sent(),[3,5];case 3:if(f=l.sent(),n)throw n;throw this.logger.log(i.LogLevel.Warning,"Error from HTTP request. "+f+"."),f;case 4:return s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!u.ok)throw new r.HttpError(u.statusText,u.status);return p=function(e,t){var n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.");default:n=e.text();break}return n}(u,e.responseType),[4,p];case 6:return h=l.sent(),[2,new o.HttpResponse(u.status,u.statusText,h)]}}))}))},t.prototype.getCookieString=function(e){var t="";return s.Platform.isNode&&this.jar&&this.jar.getCookies(e,(function(e,n){return t=n.join("; ")})),t},t}(o.HttpClient);t.FetchHttpClient=f},"3d99":function(e,t,n){"use strict";n.r(t);var r=n("da23"),o=n("79c4");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var s=n("f0c5"),a=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=a.exports},"3f92":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-scroll-view",{staticClass:"u-list",style:[e.listStyle],attrs:{"scroll-into-view":e.scrollIntoView,"scroll-y":!0,"scroll-top":Number(e.scrollTop),"lower-threshold":Number(e.lowerThreshold),"upper-threshold":Number(e.upperThreshold),"show-scrollbar":e.showScrollbar,"enable-back-to-top":e.enableBackToTop,"scroll-with-animation":e.scrollWithAnimation},on:{scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.onScroll.apply(void 0,arguments)},scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrolltolower.apply(void 0,arguments)},scrolltoupper:function(t){arguments[0]=t=e.$handleEvent(t),e.scrolltoupper.apply(void 0,arguments)}}},[n("v-uni-view",{style:{paddingTop:e.offset+"px"}},[e._t("default")],2)],1)},o=[]},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"43dd":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var r={props:{showScrollbar:{type:Boolean,default:uni.$u.props.list.showScrollbar},lowerThreshold:{type:[String,Number],default:uni.$u.props.list.lowerThreshold},upperThreshold:{type:[String,Number],default:uni.$u.props.list.upperThreshold},scrollTop:{type:[String,Number],default:uni.$u.props.list.scrollTop},offsetAccuracy:{type:[String,Number],default:uni.$u.props.list.offsetAccuracy},enableFlex:{type:Boolean,default:uni.$u.props.list.enableFlex},pagingEnabled:{type:Boolean,default:uni.$u.props.list.pagingEnabled},scrollable:{type:Boolean,default:uni.$u.props.list.scrollable},scrollIntoView:{type:String,default:uni.$u.props.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:uni.$u.props.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:uni.$u.props.list.enableBackToTop},height:{type:[String,Number],default:uni.$u.props.list.height},width:{type:[String,Number],default:uni.$u.props.list.width},preLoadScreen:{type:[String,Number],default:uni.$u.props.list.preLoadScreen}}};t.default=r},"4c4c":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponse=t.HttpClient=void 0;var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=function(){return function(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}();t.HttpResponse=o;var i=function(){function e(){}return e.prototype.get=function(e,t){return this.send(r({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(r({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(r({},t,{method:"DELETE",url:e}))},e.prototype.getCookieString=function(e){return""},e}();t.HttpClient=i},5457:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultHttpClient=void 0,n("131a"),n("d3b7"),n("d9e2"),n("d401");var r=n("1ba4"),o=n("39b7"),i=n("4c4c"),s=n("f138"),a=n("999b"),c=n("dc7b"),u=n("1c37"),l=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(t){var n=e.call(this)||this;if(a.Platform.isUni)n.httpClient=new s.UniHttpClient(t);else if(a.Platform.isWechatMP)n.httpClient=new c.WxHttpClient(t);else if("undefined"!==typeof fetch||a.Platform.isNode)n.httpClient=new o.FetchHttpClient(t);else{if("undefined"===typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");n.httpClient=new u.XhrHttpClient(t)}return n}return l(t,e),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new r.AbortError):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(i.HttpClient);t.DefaultHttpClient=f},"66df":function(e,t,n){"use strict";n.r(t);var r=n("3f92"),o=n("aca2");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("cd84");var s=n("f0c5"),a=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"74a8da62",null,!1,r["a"],void 0);t["default"]=a.exports},7079:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("2fe8")),i=r(n("8acc")),s={name:"u--input",mixins:[uni.$u.mpMixin,i.default,uni.$u.mixin],components:{uvInput:o.default}};t.default=s},7288:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var r={props:{anchor:{type:[String,Number],default:uni.$u.props.listItem.anchor}}};t.default=r},"74ff":function(e,t,n){"use strict";n.r(t);var r=n("7b6b"),o=n("a93e");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("fc12");var s=n("f0c5"),a=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"686b42e6",null,!1,r["a"],void 0);t["default"]=a.exports},"79c4":function(e,t,n){"use strict";n.r(t);var r=n("7079"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"7b6b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{ref:"u-list-item-"+this.anchor,staticClass:"u-list-item",class:["u-list-item-"+this.anchor],attrs:{anchor:"u-list-item-"+this.anchor}},[this._t("default")],2)},o=[]},"7db3":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("4e82");var o=r(n("c7eb")),i=r(n("1da1")),s=r(n("2e3a")),a=n("2e0f"),c={data:function(){return{messageList:[],connection:{},selectProp:{searchValue:"",pageNum:1,pageSize:1e3},userId:this.$store.state.user.id,userName:this.$store.state.user.name,businessId:"",message:"",scrollTop:0}},onLoad:function(e){this.businessId=e.id,this.selectProp.searchValue=e.id,this.connect(),this.getMessage()},methods:{scrolltolower:function(){},leftClick:function(){uni.navigateBack()},connect:function(){var e=this;this.connection=(new a.HubConnectionBuilder).withUrl("https://localhost:3004/chatHub").configureLogging(a.LogLevel.Information).build(),this.connection.start().then((function(){console.log("连接成功")})).catch((function(e){console.log(e)})),this.connection.on("ReceiveMessage",(function(t,n,r){e.getMessage()}))},sendMessage:function(){this.connection.invoke("SendMessage",this.userId,this.businessId,this.message,!1).catch((function(e){console.log(e)}))},getMessage:function(){var e=this;return(0,i.default)((0,o.default)().mark((function t(){var n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.default.GetMessage(e.selectProp);case 2:n=t.sent,console.log(n),n.data.datas.sort((function(e,t){return new Date(e.createTime).getTime()-new Date(t.createTime).getTime()})),console.log(n.data.datas),e.messageList=n.data.datas;case 7:case"end":return t.stop()}}),t)})))()}}};t.default=c},"7f37":function(e,t,n){"use strict";var r;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,t.LogLevel=r,function(e){e[e["Trace"]=0]="Trace",e[e["Debug"]=1]="Debug",e[e["Information"]=2]="Information",e[e["Warning"]=3]="Warning",e[e["Error"]=4]="Error",e[e["Critical"]=5]="Critical",e[e["None"]=6]="None"}(r||(t.LogLevel=r={}))},"98a1":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.Subject=void 0,n("14d9");var r=n("999b"),o=function(){function e(){this.observers=[]}return e.prototype.next=function(e){for(var t=0,n=this.observers;t<n.length;t++){var r=n[t];r.next(e)}},e.prototype.error=function(e){for(var t=0,n=this.observers;t<n.length;t++){var r=n[t];r.error&&r.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var n=t[e];n.complete&&n.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new r.SubjectSubscription(this,e)},e}();t.Subject=o},"999b":function(e,t,n){"use strict";(function(e){var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.SubjectSubscription=t.Platform=t.ConsoleLogger=t.Arg=void 0,t.constructUserAgent=y,t.createLogger=function(e){if(void 0===e)return new b(i.LogLevel.Information);if(null===e)return s.NullLogger.instance;if(e.log)return e;return new b(e)},t.formatArrayBuffer=h,t.getDataDetail=p,t.getUserAgentHeader=v,t.isArrayBuffer=d,t.sendMessage=function(e,t,n,r,o,s,l,f,h){return c(this,void 0,void 0,(function(){var c,g,b,y,m,w,S,C;return u(this,(function(u){switch(u.label){case 0:return g={},o?[4,o()]:[3,2];case 1:b=u.sent(),b&&(c={},c["Authorization"]="Bearer "+b,g=c),u.label=2;case 2:return y=v(),m=y[0],w=y[1],g[m]=w,e.log(i.LogLevel.Trace,"("+t+" transport) sending data. "+p(s,l)+"."),S=d(s)?"arraybuffer":"text",[4,n.post(r,{content:s,headers:a({},g,h),responseType:S,withCredentials:f})];case 3:return C=u.sent(),e.log(i.LogLevel.Trace,"("+t+" transport) request complete. Response status: "+C.statusCode+"."),[2]}}))}))};var o=r(n("53ca"));n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9"),n("ac1f"),n("466d"),n("7a82"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("159b"),n("25f0"),n("c19f"),n("c975"),n("a434");var i=n("7f37"),s=n("cc6a"),a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};t.VERSION="5.1.0";var l=function(){function e(){}return e.isRequired=function(e,t){if(null===e||void 0===e)throw new Error("The '"+t+"' argument is required.")},e.isNotEmpty=function(e,t){if(!e||e.match(/^\s*$/))throw new Error("The '"+t+"' argument should not be empty.")},e.isIn=function(e,t,n){if(!(e in t))throw new Error("Unknown "+n+" value: "+e+".")},e}();t.Arg=l;var f=function(){function e(){}return Object.defineProperty(e,"isBrowser",{get:function(){return"object"===("undefined"===typeof window?"undefined":(0,o.default)(window))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebWorker",{get:function(){return"object"===("undefined"===typeof self?"undefined":(0,o.default)(self))&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isUni",{get:function(){return"object"===("undefined"===typeof uni?"undefined":(0,o.default)(uni))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWechatMP",{get:function(){return"object"===("undefined"===typeof wx?"undefined":(0,o.default)(wx))&&"undefined"===typeof uni},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker&&!this.isUni&&!this.isWechatMP},enumerable:!0,configurable:!0}),e}();function p(e,t){var n="";return d(e)?(n="Binary data of length "+e.byteLength,t&&(n+=". Content: '"+h(e)+"'")):"string"===typeof e&&(n="String data of length "+e.length,t&&(n+=". Content: '"+e+"'")),n}function h(e){var t=new Uint8Array(e),n="";return t.forEach((function(e){var t=e<16?"0":"";n+="0x"+t+e.toString(16)+" "})),n.substr(0,n.length-1)}function d(e){return e&&"undefined"!==typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}t.Platform=f;var g=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(e){}))},e}();t.SubjectSubscription=g;var b=function(){function e(e){this.minimumLogLevel=e,this.outputConsole=console}return e.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case i.LogLevel.Critical:case i.LogLevel.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+i.LogLevel[e]+": "+t);break;case i.LogLevel.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+i.LogLevel[e]+": "+t);break;case i.LogLevel.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+i.LogLevel[e]+": "+t);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+i.LogLevel[e]+": "+t);break}},e}();function v(){var e="X-SignalR-User-Agent";return f.isNode&&(e="User-Agent"),[e,y("5.1.0",m(),S(),w())]}function y(e,t,n,r){var o="Microsoft SignalR/",i=e.split(".");return o+=i[0]+"."+i[1],o+=" ("+e+"; ",o+=t&&""!==t?t+"; ":"Unknown OS; ",o+=""+n,o+=r?"; "+r:"; Unknown Runtime Version",o+=")",o}function m(){if(!f.isNode)return"";switch(e.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return e.platform}}function w(){if(f.isNode)return e.versions.node}function S(){return f.isNode?"NodeJS":"Browser"}t.ConsoleLogger=b}).call(this,n("4362"))},a1d6:function(e,t,n){"use strict";n.r(t);var r=n("7db3"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},a2ea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongPollingTransport=void 0,n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9"),n("7a82");var r=n("ddee"),o=n("1ba4"),i=n("7f37"),s=n("35f7"),a=n("999b"),c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},f=function(){function e(e,t,n,o,i,s){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.pollAbort=new r.AbortController,this.logMessageContent=o,this.withCredentials=i,this.headers=s,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return u(this,void 0,void 0,(function(){var n,r,u,f,p,h,d,g,b;return l(this,(function(l){switch(l.label){case 0:if(a.Arg.isRequired(e,"url"),a.Arg.isRequired(t,"transferFormat"),a.Arg.isIn(t,s.TransferFormat,"transferFormat"),this.url=e,this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Connecting."),t===s.TransferFormat.Binary&&"undefined"!==typeof XMLHttpRequest&&"string"!==typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return r=(0,a.getUserAgentHeader)(),u=r[0],f=r[1],p=c((n={},n[u]=f,n),this.headers),h={abortSignal:this.pollAbort.signal,headers:p,timeout:1e5,withCredentials:this.withCredentials},t===s.TransferFormat.Binary&&(h.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return d=l.sent(),this.updateHeaderToken(h,d),g=e+"&_="+Date.now(),this.logger.log(i.LogLevel.Trace,"(LongPolling transport) polling: "+g+"."),[4,this.httpClient.get(g,h)];case 2:return b=l.sent(),200!==b.statusCode?(this.logger.log(i.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+b.statusCode+"."),this.closeError=new o.HttpError(b.statusText||"",b.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,h),[2]}}))}))},e.prototype.getAccessToken=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,null]}}))}))},e.prototype.updateHeaderToken=function(e,t){e.headers||(e.headers={}),t?e.headers["Authorization"]="Bearer "+t:e.headers["Authorization"]&&delete e.headers["Authorization"]},e.prototype.poll=function(e,t){return u(this,void 0,void 0,(function(){var n,r,s,c;return l(this,(function(u){switch(u.label){case 0:u.trys.push([0,,8,9]),u.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=u.sent(),this.updateHeaderToken(t,n),u.label=3;case 3:return u.trys.push([3,5,,6]),r=e+"&_="+Date.now(),this.logger.log(i.LogLevel.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,t)];case 4:return s=u.sent(),204===s.statusCode?(this.logger.log(i.LogLevel.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==s.statusCode?(this.logger.log(i.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode+"."),this.closeError=new o.HttpError(s.statusText||"",s.statusCode),this.running=!1):s.content?(this.logger.log(i.LogLevel.Trace,"(LongPolling transport) data received. "+(0,a.getDataDetail)(s.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(s.content)):this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return c=u.sent(),this.running?c instanceof o.TimeoutError?this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=c,this.running=!1):this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Poll errored after shutdown: "+c.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},e.prototype.send=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){return this.running?[2,(0,a.sendMessage)(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,s;return l(this,(function(u){switch(u.label){case 0:this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),u.label=1;case 1:return u.trys.push([1,,5,6]),[4,this.receiving];case 2:return u.sent(),this.logger.log(i.LogLevel.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={},t=(0,a.getUserAgentHeader)(),n=t[0],r=t[1],e[n]=r,o={headers:c({},e,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return s=u.sent(),this.updateHeaderToken(o,s),[4,this.httpClient.delete(this.url,o)];case 4:return u.sent(),this.logger.log(i.LogLevel.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(i.LogLevel.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";this.closeError&&(e+=" Error: "+this.closeError),this.logger.log(i.LogLevel.Trace,e),this.onclose(this.closeError)}},e}();t.LongPollingTransport=f},a93e:function(e,t,n){"use strict";n.r(t);var r=n("bc5f"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},ac91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HubConnectionState=t.HubConnection=void 0,n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9"),n("7a82"),n("c975"),n("a434"),n("159b"),n("25f0"),n("b64b");var r,o=n("f43c"),i=n("3865"),s=n("7f37"),a=n("98a1"),c=n("999b"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};t.HubConnectionState=r,function(e){e["Disconnected"]="Disconnected",e["Connecting"]="Connecting",e["Connected"]="Connected",e["Disconnecting"]="Disconnecting",e["Reconnecting"]="Reconnecting"}(r||(t.HubConnectionState=r={}));var f=function(){function e(e,t,n,s){var a=this;c.Arg.isRequired(e,"connection"),c.Arg.isRequired(t,"logger"),c.Arg.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=t,this.protocol=n,this.connection=e,this.reconnectPolicy=s,this.handshakeProtocol=new o.HandshakeProtocol,this.connection.onreceive=function(e){return a.processIncomingData(e)},this.connection.onclose=function(e){return a.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=r.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:i.MessageType.Ping})}return e.create=function(t,n,r,o){return new e(t,n,r,o)},Object.defineProperty(e.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(e){if(this.connectionState!==r.Disconnected&&this.connectionState!==r.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e},enumerable:!0,configurable:!0}),e.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},e.prototype.startWithStateTransitions=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:if(this.connectionState!==r.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=r.Connecting,this.logger.log(s.LogLevel.Debug,"Starting HubConnection."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return t.sent(),this.connectionState=r.Connected,this.connectionStarted=!0,this.logger.log(s.LogLevel.Debug,"HubConnection connected successfully."),[3,4];case 3:return e=t.sent(),this.connectionState=r.Disconnected,this.logger.log(s.LogLevel.Debug,"HubConnection failed to start successfully because of error '"+e+"'."),[2,Promise.reject(e)];case 4:return[2]}}))}))},e.prototype.startInternal=function(){return u(this,void 0,void 0,(function(){var e,t,n,r=this;return l(this,(function(o){switch(o.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,e=new Promise((function(e,t){r.handshakeResolver=e,r.handshakeRejecter=t})),[4,this.connection.start(this.protocol.transferFormat)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(s.LogLevel.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 3:return o.sent(),this.logger.log(s.LogLevel.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,e];case 4:if(o.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return n=o.sent(),this.logger.log(s.LogLevel.Debug,"Hub handshake failed with error '"+n+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(n)];case 6:throw o.sent(),n;case 7:return[2]}}))}))},e.prototype.stop=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,e];case 3:return t.sent(),[3,5];case 4:return t.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.stopInternal=function(e){return this.connectionState===r.Disconnected?(this.logger.log(s.LogLevel.Debug,"Call to HubConnection.stop("+e+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===r.Disconnecting?(this.logger.log(s.LogLevel.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=r.Disconnecting,this.logger.log(s.LogLevel.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(s.LogLevel.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=e||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))},e.prototype.stream=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o,s=this.replaceStreamingParams(n),c=s[0],u=s[1],l=this.createStreamInvocation(e,n,u),f=new a.Subject;return f.cancelCallback=function(){var e=t.createCancelInvocation(l.invocationId);return delete t.callbacks[l.invocationId],o.then((function(){return t.sendWithProtocol(e)}))},this.callbacks[l.invocationId]=function(e,t){t?f.error(t):e&&(e.type===i.MessageType.Completion?e.error?f.error(new Error(e.error)):f.complete():f.next(e.item))},o=this.sendWithProtocol(l).catch((function(e){f.error(e),delete t.callbacks[l.invocationId]})),this.launchStreams(c,o),f},e.prototype.sendMessage=function(e){return this.resetKeepAliveInterval(),this.connection.send(e)},e.prototype.sendWithProtocol=function(e){return this.sendMessage(this.protocol.writeMessage(e))},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.replaceStreamingParams(t),o=r[0],i=r[1],s=this.sendWithProtocol(this.createInvocation(e,t,!0,i));return this.launchStreams(o,s),s},e.prototype.invoke=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.replaceStreamingParams(n),s=o[0],a=o[1],c=this.createInvocation(e,n,!1,a),u=new Promise((function(e,n){t.callbacks[c.invocationId]=function(t,r){r?n(r):t&&(t.type===i.MessageType.Completion?t.error?n(new Error(t.error)):e(t.result):n(new Error("Unexpected message type: "+t.type)))};var r=t.sendWithProtocol(c).catch((function(e){n(e),delete t.callbacks[c.invocationId]}));t.launchStreams(s,r)}));return u},e.prototype.on=function(e,t){e&&t&&(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var n=this.methods[e];if(n)if(t){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.onreconnecting=function(e){e&&this.reconnectingCallbacks.push(e)},e.prototype.onreconnected=function(e){e&&this.reconnectedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=this.protocol.parseMessages(e,this.logger),n=0,r=t;n<r.length;n++){var o=r[n];switch(o.type){case i.MessageType.Invocation:this.invokeClientMethod(o);break;case i.MessageType.StreamItem:case i.MessageType.Completion:var a=this.callbacks[o.invocationId];a&&(o.type===i.MessageType.Completion&&delete this.callbacks[o.invocationId],a(o));break;case i.MessageType.Ping:break;case i.MessageType.Close:this.logger.log(s.LogLevel.Information,"Close message received from server.");var c=o.error?new Error("Server returned an error on close: "+o.error):void 0;!0===o.allowReconnect?this.connection.stop(c):this.stopPromise=this.stopInternal(c);break;default:this.logger.log(s.LogLevel.Warning,"Invalid message type: "+o.type+".");break}}this.resetTimeoutPeriod()},e.prototype.processHandshakeResponse=function(e){var t,n,r;try{t=this.handshakeProtocol.parseHandshakeResponse(e),r=t[0],n=t[1]}catch(a){var o="Error parsing handshake response: "+a;this.logger.log(s.LogLevel.Error,o);var i=new Error(o);throw this.handshakeRejecter(i),i}if(n.error){o="Server returned handshake error: "+n.error;this.logger.log(s.LogLevel.Error,o);i=new Error(o);throw this.handshakeRejecter(i),i}return this.logger.log(s.LogLevel.Debug,"Server handshake complete."),this.handshakeResolver(),r},e.prototype.resetKeepAliveInterval=function(){var e=this;this.connection.features.inherentKeepAlive||(this.cleanupPingTimer(),this.pingServerHandle=setTimeout((function(){return u(e,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:if(this.connectionState!==r.Connected)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),this.keepAliveIntervalInMilliseconds))},e.prototype.resetTimeoutPeriod=function(){var e=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return e.serverTimeout()}),this.serverTimeoutInMilliseconds))},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,n=this.methods[e.target.toLowerCase()];if(n){try{n.forEach((function(n){return n.apply(t,e.arguments)}))}catch(o){this.logger.log(s.LogLevel.Error,"A callback for the method "+e.target.toLowerCase()+" threw error '"+o+"'.")}if(e.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(s.LogLevel.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(s.LogLevel.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){this.logger.log(s.LogLevel.Debug,"HubConnection.connectionClosed("+e+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||e||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===r.Disconnecting?this.completeClose(e):this.connectionState===r.Connected&&this.reconnectPolicy?this.reconnect(e):this.connectionState===r.Connected&&this.completeClose(e)},e.prototype.completeClose=function(e){var t=this;if(this.connectionStarted){this.connectionState=r.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach((function(n){return n.apply(t,[e])}))}catch(n){this.logger.log(s.LogLevel.Error,"An onclose callback called with error '"+e+"' threw error '"+n+"'.")}}},e.prototype.reconnect=function(e){return u(this,void 0,void 0,(function(){var t,n,o,i,a,c=this;return l(this,(function(u){switch(u.label){case 0:if(t=Date.now(),n=0,o=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),i=this.getNextRetryDelay(n++,0,o),null===i)return this.logger.log(s.LogLevel.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(e),[2];if(this.connectionState=r.Reconnecting,e?this.logger.log(s.LogLevel.Information,"Connection reconnecting because of error '"+e+"'."):this.logger.log(s.LogLevel.Information,"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach((function(t){return t.apply(c,[e])}))}catch(l){this.logger.log(s.LogLevel.Error,"An onreconnecting callback called with error '"+e+"' threw error '"+l+"'.")}if(this.connectionState!==r.Reconnecting)return this.logger.log(s.LogLevel.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}u.label=1;case 1:return null===i?[3,7]:(this.logger.log(s.LogLevel.Information,"Reconnect attempt number "+n+" will start in "+i+" ms."),[4,new Promise((function(e){c.reconnectDelayHandle=setTimeout(e,i)}))]);case 2:if(u.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==r.Reconnecting)return this.logger.log(s.LogLevel.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];u.label=3;case 3:return u.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(u.sent(),this.connectionState=r.Connected,this.logger.log(s.LogLevel.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach((function(e){return e.apply(c,[c.connection.connectionId])}))}catch(l){this.logger.log(s.LogLevel.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+l+"'.")}return[2];case 5:return a=u.sent(),this.logger.log(s.LogLevel.Information,"Reconnect attempt failed because of error '"+a+"'."),this.connectionState!==r.Reconnecting?(this.logger.log(s.LogLevel.Debug,"Connection left the reconnecting state during reconnect attempt. Done reconnecting."),[2]):(o=a instanceof Error?a:new Error(a.toString()),i=this.getNextRetryDelay(n++,Date.now()-t,o),[3,6]);case 6:return[3,1];case 7:return this.logger.log(s.LogLevel.Information,"Reconnect retries have been exhausted after "+(Date.now()-t)+" ms and "+n+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}}))}))},e.prototype.getNextRetryDelay=function(e,t,n){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(r){return this.logger.log(s.LogLevel.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+e+", "+t+") threw error '"+r+"'."),null}},e.prototype.cancelCallbacksWithError=function(e){var t=this.callbacks;this.callbacks={},Object.keys(t).forEach((function(n){var r=t[n];r(null,e)}))},e.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:i.MessageType.Invocation}:{arguments:t,target:e,type:i.MessageType.Invocation};var o=this.invocationId;return this.invocationId++,0!==r.length?{arguments:t,invocationId:o.toString(),streamIds:r,target:e,type:i.MessageType.Invocation}:{arguments:t,invocationId:o.toString(),target:e,type:i.MessageType.Invocation}},e.prototype.launchStreams=function(e,t){var n=this;if(0!==e.length){t||(t=Promise.resolve());var r=function(r){e[r].subscribe({complete:function(){t=t.then((function(){return n.sendWithProtocol(n.createCompletionMessage(r))}))},error:function(e){var o;o=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((function(){return n.sendWithProtocol(n.createCompletionMessage(r,o))}))},next:function(e){t=t.then((function(){return n.sendWithProtocol(n.createStreamItemMessage(r,e))}))}})};for(var o in e)r(o)}},e.prototype.replaceStreamingParams=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r];if(this.isObservable(o)){var i=this.invocationId;this.invocationId++,t[i]=o,n.push(i.toString()),e.splice(r,1)}}return[t,n]},e.prototype.isObservable=function(e){return e&&e.subscribe&&"function"===typeof e.subscribe},e.prototype.createStreamInvocation=function(e,t,n){var r=this.invocationId;return this.invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:i.MessageType.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:i.MessageType.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:i.MessageType.CancelInvocation}},e.prototype.createStreamItemMessage=function(e,t){return{invocationId:e,item:t,type:i.MessageType.StreamItem}},e.prototype.createCompletionMessage=function(e,t,n){return t?{error:t,invocationId:e,type:i.MessageType.Completion}:{invocationId:e,result:n,type:i.MessageType.Completion}},e}();t.HubConnection=f},aca2:function(e,t,n){"use strict";n.r(t);var r=n("ae91"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},ae91:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("43dd")),i={name:"u-list",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],watch:{scrollIntoView:function(e){this.scrollIntoViewById(e)}},data:function(){return{innerScrollTop:0,offset:0,sys:uni.$u.sys()}},computed:{listStyle:function(){var e={},t=uni.$u.addUnit;return 0!=this.width&&(e.width=t(this.width)),0!=this.height&&(e.height=t(this.height)),e.height||(e.height=t(this.sys.windowHeight,"px")),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},provide:function(){return{uList:this}},created:function(){this.refs=[],this.children=[],this.anchors=[]},mounted:function(){},methods:{updateOffsetFromChild:function(e){this.offset=e},onScroll:function(e){var t;t=e.detail.scrollTop,this.innerScrollTop=t,this.$emit("scroll",Math.abs(t))},scrollIntoViewById:function(e){},scrolltolower:function(e){var t=this;uni.$u.sleep(30).then((function(){t.$emit("scrolltolower")}))},scrolltoupper:function(e){var t=this;uni.$u.sleep(30).then((function(){t.$emit("scrolltoupper"),t.offset=0}))}}};t.default=i},af52:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultReconnectPolicy=void 0,n("99af");var r=[0,2e3,1e4,3e4,null],o=function(){function e(e){this.retryDelays=void 0!==e?e.concat([null]):r}return e.prototype.nextRetryDelayInMilliseconds=function(e){return this.retryDelays[e.previousRetryCount]},e}();t.DefaultReconnectPolicy=o},b092:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-74a8da62], uni-scroll-view[data-v-74a8da62], uni-swiper-item[data-v-74a8da62]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-list[data-v-74a8da62]{display:flex;flex-direction:column}',""]),e.exports=t},baa5:function(e,t,n){var r=n("23e7"),o=n("e58c");r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},bc5f:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c975"),n("d3b7");var o=r(n("7288")),i={name:"u-list-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{rect:{},index:0,show:!0,sys:uni.$u.sys()}},computed:{},inject:["uList"],watch:{"uList.innerScrollTop":function(e){var t=this.uList.preLoadScreen,n=this.sys.windowHeight;e<=n*t?this.parent.updateOffsetFromChild(0):this.rect.top<=e-n*t&&this.parent.updateOffsetFromChild(this.rect.top)}},created:function(){this.parent={}},mounted:function(){this.init()},methods:{init:function(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData:function(){this.getParentData("u-list")},resize:function(){var e=this;this.queryRect("u-list-item-".concat(this.anchor)).then((function(t){var n=e.parent.children[e.index-1];e.rect=t;var r=e.uList.preLoadScreen,o=e.sys.windowHeight;n&&(e.rect.top=n.rect.top+n.rect.height),t.top>=e.uList.innerScrollTop+(1+r)*o&&(e.show=!1)}))},queryRect:function(e){var t=this;return new Promise((function(n){t.$uGetRect(".".concat(e)).then((function(e){n(e)}))}))}}};t.default=i},c238:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.TextMessageFormat=void 0,n("d9e2"),n("d401"),n("ac1f"),n("1276");var r=function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var n=t.split(e.RecordSeparator);return n.pop(),n},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}();t.TextMessageFormat=r},cc6a:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.NullLogger=void 0;var r=function(){function e(){}return e.prototype.log=function(e,t){},e.instance=new e,e}();t.NullLogger=r},cd84:function(e,t,n){"use strict";var r=n("1ce9"),o=n.n(r);o.a},d47e:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-686b42e6], uni-scroll-view[data-v-686b42e6], uni-swiper-item[data-v-686b42e6]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}',""]),e.exports=t},d721:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.ServerSentEventsTransport=void 0,n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("14d9"),n("c975");var r=n("7f37"),o=n("35f7"),i=n("999b"),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=function(){function e(e,t,n,r,o,i,s){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.logMessageContent=r,this.withCredentials=i,this.eventSourceConstructor=o,this.headers=s,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return a(this,void 0,void 0,(function(){var n,a=this;return c(this,(function(c){switch(c.label){case 0:return i.Arg.isRequired(e,"url"),i.Arg.isRequired(t,"transferFormat"),i.Arg.isIn(t,o.TransferFormat,"transferFormat"),this.logger.log(r.LogLevel.Trace,"(SSE transport) Connecting."),this.url=e,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:n=c.sent(),n&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),c.label=2;case 2:return[2,new Promise((function(n,c){var u=!1;if(t===o.TransferFormat.Text){var l;if(i.Platform.isBrowser||i.Platform.isWebWorker)l=new a.eventSourceConstructor(e,{withCredentials:a.withCredentials});else{var f=a.httpClient.getCookieString(e),p={};p.Cookie=f;var h=(0,i.getUserAgentHeader)(),d=h[0],g=h[1];p[d]=g,l=new a.eventSourceConstructor(e,{withCredentials:a.withCredentials,headers:s({},p,a.headers)})}try{l.onmessage=function(e){if(a.onreceive)try{a.logger.log(r.LogLevel.Trace,"(SSE transport) data received. "+(0,i.getDataDetail)(e.data,a.logMessageContent)+"."),a.onreceive(e.data)}catch(t){return void a.close(t)}},l.onerror=function(e){var t=new Error(e.data||"Error occurred");u?a.close(t):c(t)},l.onopen=function(){a.logger.log(r.LogLevel.Information,"SSE connected to "+a.url),a.eventSource=l,u=!0,n()}}catch(b){return void c(b)}}else c(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},e.prototype.send=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){return this.eventSource?[2,(0,i.sendMessage)(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return this.close(),Promise.resolve()},e.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(e))},e}();t.ServerSentEventsTransport=u},da23:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uvInput",{attrs:{value:e.value,type:e.type,fixed:e.fixed,disabled:e.disabled,disabledColor:e.disabledColor,clearable:e.clearable,password:e.password,maxlength:e.maxlength,placeholder:e.placeholder,placeholderClass:e.placeholderClass,placeholderStyle:e.placeholderStyle,showWordLimit:e.showWordLimit,confirmType:e.confirmType,confirmHold:e.confirmHold,holdKeyboard:e.holdKeyboard,focus:e.focus,autoBlur:e.autoBlur,disableDefaultPadding:e.disableDefaultPadding,cursor:e.cursor,cursorSpacing:e.cursorSpacing,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,adjustPosition:e.adjustPosition,inputAlign:e.inputAlign,fontSize:e.fontSize,color:e.color,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,suffixIconStyle:e.suffixIconStyle,prefixIconStyle:e.prefixIconStyle,border:e.border,readonly:e.readonly,shape:e.shape,customStyle:e.customStyle,formatter:e.formatter},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("focus")},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("blur")},keyboardheightchange:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("keyboardheightchange")},change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("change",t)}.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("input",t)}.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("confirm",t)}.apply(void 0,arguments)},clear:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("clear")},click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click")}}},[e._t("prefix",null,{slot:"prefix"}),e._t("suffix",null,{slot:"suffix"})],2)},o=[]},dc7b:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.WxHttpClient=void 0;var o=r(n("53ca"));n("131a"),n("d3b7"),n("d9e2"),n("d401"),n("c19f"),n("ace4"),n("143c"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("e9c4"),n("c975");var i=n("1ba4"),s=n("4c4c"),a=n("7f37"),c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n}return c(t,e),t.prototype.send=function(e){if(e.abortSignal&&e.abortSignal.aborted)return Promise.reject(new i.AbortError);if(!e.method)return Promise.reject(new Error("No method defined."));if(!e.url)return Promise.reject(new Error("No url defined."));var t=this;return new Promise((function(n,r){var c={url:e.url,data:e.content,method:(e.method||"GET").toUpperCase(),header:u({"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},e.headers||{}),responseType:"arraybuffer"===e.responseType||"blob"===e.responseType?"arraybuffer":"text",dataType:"其他",timeout:e.timeout};c.success=function(c){var u=c.data,l=c.statusCode;if(e.abortSignal&&(e.abortSignal.onabort=null),l>=200&&l<300){var f=(0,o.default)(u),p="";u instanceof ArrayBuffer?p=function(e){var t,n,r,o="",i=0,s=e.length;while(i<s)switch(t=e[i++],t>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(t);break;case 12:case 13:n=e[i++],o+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=e[i++],r=e[i++],o+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&r)<<0);break}return o}(new Int32Array(u)):"string"!==f&&"undefined"!==f?p=JSON.stringify(u):u&&(p=u+""),n(new s.HttpResponse(l,"OK",p))}else{var h="[WxHttpClient] Request success, but status code is "+l;t.logger.log(a.LogLevel.Error,h),r(new i.HttpError(h,l))}},c.fail=function(e){var n,o=e.errMsg;t.logger.log(a.LogLevel.Error,"[WxHttpClient] Request failed, message: "+o+"."),n=-1!==(o+"").toUpperCase().indexOf("TIMEOUT")?new i.TimeoutError(o):new i.HttpError(o,-1),r(n)},e.abortSignal&&(e.abortSignal.onabort=function(){l&&l.abort(),r(new i.AbortError)});var l=wx.request(c)}))},t}(s.HttpClient);t.WxHttpClient=l},ddee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbortController=void 0,n("7a82");var r=function(){function e(){this.isAborted=!1,this.onabort=null}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}();t.AbortController=r},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,o="/"===s.charAt(0))}return t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===o(e,-1);return e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"),e||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var u=[];for(c=a;c<o.length;c++)u.push("..");return u=u.concat(i.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(o=!1,r=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},eae7:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.up[data-v-cc455888]{color:#fff;text-align:center;height:%?80?%;line-height:%?80?%;background-color:#ffc850}.imput-bottom[data-v-cc455888]{position:fixed;bottom:10px;margin-top:200px;width:95%;display:flex;justify-content:space-between}',""]),e.exports=t},eb55:function(e,t,n){var r=n("d47e");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("a8da2954",r,!0,{sourceMap:!1,shadowMode:!1})},f099:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var r={uNavbar:n("f7cd").default,uList:n("66df").default,uListItem:n("74ff").default,"u-Text":n("51c2").default,"u-Input":n("3d99").default,uButton:n("05f7").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticStyle:{height:"100%",width:"95%",margin:"auto"}},[n("u-navbar",{attrs:{bgColor:"#ffc850",title:"聊天消息"},on:{leftClick:function(t){arguments[0]=t=e.$handleEvent(t),e.leftClick.apply(void 0,arguments)}}}),n("v-uni-view",{staticStyle:{"margin-top":"100rpx"}},[n("u-list",{attrs:{width:"100%",height:"1150rpx"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrolltolower.apply(void 0,arguments)}}},e._l(e.messageList,(function(t,r){return n("u-list-item",{key:r},[t.name==e.userName?n("u--text",{attrs:{type:"primary",text:t.name+" "+t.createTime.replace("T"," ").substring(0,19)}}):n("u--text",{attrs:{type:"success",text:t.name+" "+t.createTime.replace("T"," ").substring(0,19)}}),n("u--text",{attrs:{type:"info",text:t.message}})],1)})),1)],1),n("v-uni-view",{staticClass:"imput-bottom"},[n("u--input",{staticStyle:{height:"10px"},attrs:{border:"surround",clearable:!0,shape:"circle"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("span",{staticStyle:{width:"3%"}}),n("u-button",{staticStyle:{width:"10%"},attrs:{text:"发送",size:"mini",type:"primary",shape:"circle"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendMessage.apply(void 0,arguments)}}})],1)],1)},i=[]},f138:function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.UniHttpClient=void 0;var o=r(n("53ca"));n("131a"),n("d3b7"),n("d9e2"),n("d401"),n("c19f"),n("ace4"),n("143c"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("e9c4"),n("c975");var i=n("1ba4"),s=n("4c4c"),a=n("7f37"),c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n}return c(t,e),t.prototype.send=function(e){if(e.abortSignal&&e.abortSignal.aborted)return Promise.reject(new i.AbortError);if(!e.method)return Promise.reject(new Error("No method defined."));if(!e.url)return Promise.reject(new Error("No url defined."));var t=this;return new Promise((function(n,r){var c={url:e.url,data:e.content,method:(e.method||"GET").toUpperCase(),withCredentials:void 0===e.withCredentials||e.withCredentials,header:u({"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},e.headers||{}),responseType:e.responseType||"text",dataType:"text",timeout:e.timeout};c.success=function(c){var u=c.data,l=c.statusCode;if(e.abortSignal&&(e.abortSignal.onabort=null),l>=200&&l<300){var f=(0,o.default)(u),p="";u instanceof ArrayBuffer?p=function(e){var t,n,r,o="",i=0,s=e.length;while(i<s)switch(t=e[i++],t>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(t);break;case 12:case 13:n=e[i++],o+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=e[i++],r=e[i++],o+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&r)<<0);break}return o}(new Int32Array(u)):"string"!==f&&"undefined"!==f?p=JSON.stringify(u):u&&(p=u+""),n(new s.HttpResponse(l,"OK",p))}else{var h="(UniHttpClient) Request success, but status code is "+l;t.logger.log(a.LogLevel.Error,h),r(new i.HttpError(h,l))}},c.fail=function(e){var n,o=e.errMsg;t.logger.log(a.LogLevel.Error,"(UniHttpClient) Request failed, message: "+o+"."),n=-1!==(o+"").toUpperCase().indexOf("TIMEOUT")?new i.TimeoutError(o):new i.HttpError(o,-1),r(n)},e.abortSignal&&(e.abortSignal.onabort=function(){l&&l.abort(),r(new i.AbortError)});var l=uni.request(c)}))},t}(s.HttpClient);t.UniHttpClient=l},f43c:function(e,t,n){"use strict";(function(e){n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeProtocol=void 0,n("e9c4"),n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("c975"),n("d9e2"),n("d401"),n("fb6a");var r=n("c238"),o=n("999b"),i=function(){function t(){}return t.prototype.writeHandshakeRequest=function(e){return r.TextMessageFormat.write(JSON.stringify(e))},t.prototype.parseHandshakeResponse=function(t){var n,i,s;if((0,o.isArrayBuffer)(t)||"undefined"!==typeof e&&t instanceof e){var a=new Uint8Array(t),c=a.indexOf(r.TextMessageFormat.RecordSeparatorCode);if(-1===c)throw new Error("Message is incomplete.");var u=c+1;i=String.fromCharCode.apply(null,a.slice(0,u)),s=a.byteLength>u?a.slice(u).buffer:null}else{var l=t;c=l.indexOf(r.TextMessageFormat.RecordSeparator);if(-1===c)throw new Error("Message is incomplete.");u=c+1;i=l.substring(0,u),s=l.length>u?l.substring(u):null}var f=r.TextMessageFormat.parse(i),p=JSON.parse(f[0]);if(p.type)throw new Error("Expected a handshake response from the server.");return n=p,[s,n]},t}();t.HandshakeProtocol=i}).call(this,n("b639").Buffer)},f93c:function(e,t,n){"use strict";var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.UniWebSocket=void 0,n("14d9"),n("7a82"),n("d9e2"),n("d401");var o,i=r(n("53ca")),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=(o=function(){function e(e,t,n){var r,o,a=this;this.binaryType="blob",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._url=e,"string"===typeof t?o=[t]:Array.isArray(t)&&(o=t);var c={"Content-Type":"application/json"},u={url:e,header:c,method:"GET",protocols:o,success:function(e){console.log("[UniWebSocket] uni.connectSocket invoke success.",e)},fail:function(e){console.error("[UniWebSocket] uni.connectSocket invoke faild.",e)}};"object"===(0,i.default)(n)&&("object"===(0,i.default)(n.header)?u.header=s({},c,n.header):"object"===(0,i.default)(n.headers)&&(u.header=s({},c,n.headers)),"string"===typeof n.method&&(u.method=n.method.toUpperCase()),"string"===typeof n.protocols?u.protocols?u.protocols.push(n.protocols):u.protocols=[n.protocols]:Array.isArray(n.protocols)&&(u.protocols?(r=u.protocols).push.apply(r,n.protocols):u.protocols=n.protocols));var l=uni.connectSocket(u);this._socket=l,l.onOpen((function(){if(a.onopen){a.onopen({type:"open"})}})),l.onClose((function(e){a.onclose&&("object"===(0,i.default)(e)&&(e.type="close"),a.onclose(e))})),l.onError((function(){if(a.onerror){a.onerror({type:"error"})}})),l.onMessage((function(e){if(a.onmessage){var t={type:"message",data:e.data};a.onmessage(t)}}))}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._socket.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t,n){throw new Error("UniWebSocket do not implement 'addEventListener' method.")},e.prototype.removeEventListener=function(e,t,n){throw new Error("UniWebSocket do not implement 'removeEventListener' method.")},e.prototype.dispatchEvent=function(e){throw new Error("UniWebSocket do not implement 'dispatchEvent' method.")},e.prototype.close=function(e,t){this._socket.close({code:e,reason:t})},e.prototype.send=function(e){e=e,this._socket.send({data:e})},e}(),o.CLOSED=3,o.CLOSING=2,o.OPEN=1,o.CONNECTING=0,o);t.UniWebSocket=a},fc12:function(e,t,n){"use strict";var r=n("eb55"),o=n.n(r);o.a},feb5:function(e,t,n){"use strict";var r=n("257f"),o=n.n(r);o.a}}]);